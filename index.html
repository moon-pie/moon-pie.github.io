<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>MoonPie's Space - Seize tht Day!</title><meta name="author" content="MoonPie Xia"><meta name="copyright" content="MoonPie Xia"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="MoonPie&#39;s Space">
<meta property="og:url" content="http://blog.moonpie.cf/index.html">
<meta property="og:site_name" content="MoonPie&#39;s Space">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.moonpie.cf/images/avatar.png">
<meta property="article:author" content="MoonPie Xia">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.moonpie.cf/images/avatar.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://blog.moonpie.cf/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-05-02 19:12:59'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://blog.moonpie.cf/images/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">29</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://blog.moonpie.cf/picture/lance-asper-3P3NHLZGCp8-unsplash.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">MoonPie's Space</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">MoonPie's Space</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/05/01/hello-world/" title="Hello World">     <img class="post_bg" src="https://z3.ax1x.com/2021/05/02/geChWj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/05/01/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-05-01T09:57:03.968Z" title="发表于 2021-05-01 17:57:03">2021-05-01</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick Start
Create a new post
1$ hexo new &quot;My New Post&quot;
More info: Writing
Run server
1$ hexo server
More info: Server
Generate static files
1$ hexo generate
More info: Generating
Deploy to remote sites
1$ hexo deploy
More info: Deployment
</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/28/sdoi2018jiu-shi-ti/" title="『SDOI2018』旧试题">     <img class="post_bg" src="https://z3.ax1x.com/2021/05/02/geCGsx.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="『SDOI2018』旧试题"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/28/sdoi2018jiu-shi-ti/" title="『SDOI2018』旧试题">『SDOI2018』旧试题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-28T08:51:41.000Z" title="发表于 2021-04-28 16:51:41">2021-04-28</time></span></div><div class="content">题意
多组数据，求
∑i=1A∑j=1B∑k=1Cσ0(ijk) mod (109+7)\sum_{i=1}^{A}\sum_{j=1}^{B}\sum_{k=1}^{C}\sigma_0(ijk) \bmod (10^9+7)
i=1∑A​j=1∑B​k=1∑C​σ0​(ijk)mod(109+7)
其中 max⁡(A,B,C)≤2×105,T≤10\max(A,B,C) \le 2\times 10^5,T\le 10max(A,B,C)≤2×105,T≤10
题解
约定
(x,y)=[gcd⁡(x,y)=1][x,y]=lcm(x,y)\begin{aligned}
(x,y) &amp;= [\gcd(x,y) = 1]\\
[x,y] &amp;= \mathrm{lcm}(x,y)\\
\end{aligned}
(x,y)[x,y]​=[gcd(x,y)=1]=lcm(x,y)​
我们熟知，

σ0(ij)=∑x∣i∑y∣j[gcd⁡(x,y)=1]\sigma_0(ij) = \sum_{x\mid i}\sum_{y\mid j} [\gcd(x,y) = 1]
σ0 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/28/mo-bi-wu-si-fan-yan-xi-ti/" title="莫比乌斯反演习题">     <img class="post_bg" src="https://z3.ax1x.com/2021/05/02/geCGsx.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="莫比乌斯反演习题"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/28/mo-bi-wu-si-fan-yan-xi-ti/" title="莫比乌斯反演习题">莫比乌斯反演习题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-28T00:56:55.000Z" title="发表于 2021-04-28 08:56:55">2021-04-28</time></span></div><div class="content">前置知识
结论
μ∗1=εφ∗1=id⁡μ∗id⁡=φ\begin{aligned}
\mu\ast1 &amp;= \varepsilon\\
\varphi\ast1&amp;=\operatorname{id}\\
\mu\ast\operatorname{id}&amp;=\varphi\\
\end{aligned}
μ∗1φ∗1μ∗id​=ε=id=φ​
数论分块
∀a,b,c∈Z,⌊abc⌋=⌊⌊ab⌋c⌋\forall a,b,c\in\mathbb{Z},\left\lfloor\frac{a}{bc}\right\rfloor=\left\lfloor\frac{\left\lfloor\frac{a}{b}\right\rfloor}{c}\right\rfloor
∀a,b,c∈Z,⌊bca​⌋=⌊c⌊ba​⌋​⌋
对于含有 ⌊ni⌋\left\lfloor\frac{n}{i}\right\rfloor⌊in​⌋ 的式子，对任意 iii，使 ⌊ni⌋=⌊nj⌋\left\lfloor\frac{n}{i}\right\rfloor=\left\lfloor\f ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/22/xxi-open-cup-grand-prix-of-korea/" title="XXI Open Cup. Grand Prix of Korea">     <img class="post_bg" src="https://z3.ax1x.com/2021/05/02/geCGsx.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="XXI Open Cup. Grand Prix of Korea"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/22/xxi-open-cup-grand-prix-of-korea/" title="XXI Open Cup. Grand Prix of Korea">XXI Open Cup. Grand Prix of Korea</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-22T11:17:06.000Z" title="发表于 2021-04-22 19:17:06">2021-04-22</time></span></div><div class="content">前言
XXI Open Cup. Grand Prix of Korea
参考资料：
官方题解
jiangly{\color{black}\mathrm{j}}{\color{Red} \mathrm{iangly}}jiangly {\color{black}}的博客
声明：
题意讲述全全来自 jasonfan\mathrm{jasonfan}jasonfan 的博客，至此鸣谢。

A. Advertisement Matching
题意
有 nnn 个广告商，第 iii 个有 aia_iai​ 份广告，有 mmm 个人，第 iii 个人最多看 bib_ibi​ 份不同的广告。qqq 次修改，每次将 ax±1a_x\pm 1ax​±1 或者 bx±1b_x\pm 1bx​±1，修改是累计的。问每次修改后是否能将所有广告发完。（保证所有 ai,bia_i,b_iai​,bi​ 在任意时刻为非负整数）
1≤n,m,q≤250000,0≤ai,bj≤2500001\le n,m,q\le 250000,0\le a_i,b_j\le 250000
1≤n,m,q≤250000,0≤ai​, ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/22/xj-sheng-xuan-c31/" title="XJ省选C31">     <img class="post_bg" src="https://z3.ax1x.com/2021/05/02/geChWj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="XJ省选C31"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/22/xj-sheng-xuan-c31/" title="XJ省选C31">XJ省选C31</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-22T11:05:21.000Z" title="发表于 2021-04-22 19:05:21">2021-04-22</time></span></div><div class="content">A.Path
Description
给定一张有向图 G=(V,E)G = (V,E)G=(V,E)，V={1,2,…,n}V = \{1,2,\dots,n\}V={1,2,…,n}。每个点有个标记 fif_ifi​，为 LLL 或 RRR 或 BBB 。
(i,j)∈E⟺(fi=L∧j&lt;i)∨(fi=R∧j&gt;i)∨(fi=B)(i,j)\in E \Longleftrightarrow  (f_i = L \wedge j&lt;i) \vee (f_i = R \wedge j&gt;i) \vee (f_i = B)
(i,j)∈E⟺(fi​=L∧j&lt;i)∨(fi​=R∧j&gt;i)∨(fi​=B)
Solution
part1
暴力状压DP，考虑DP状态 f[S][u]f[S][u]f[S][u] 表示经过状态为 SSS 的点集，停留在 uuu 点的方案数。
时间复杂度 O(n×2n)\mathcal O(n\times 2^n)O(n×2n)。期望得分：50 pts。
正解
只考虑前 iii 个节点，他们在最终的路径状态中一定是若干条链。由此我们把 DP ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/22/wan-mei-chuan/" title="完美串">     <img class="post_bg" src="https://z3.ax1x.com/2021/05/02/geChWj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="完美串"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/22/wan-mei-chuan/" title="完美串">完美串</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-22T11:03:45.000Z" title="发表于 2021-04-22 19:03:45">2021-04-22</time></span></div><div class="content">题意
给你一个长度为 n(n≤1000)n(n\le 1000)n(n≤1000) 的仅包含 ′0′,′1′,′?′&#x27;0&#x27;,&#x27;1&#x27;,&#x27;?&#x27;′0′,′1′,′?′ 的字符串。定义循环子串为将字符串首尾相接得到的圆的一段。定义一个完美串的所有相同长度的循环子串所包含的 ′1′&#x27;1&#x27;′1′ 的个数的极差至多为 111。请问将所有 ′?′&#x27;?&#x27;′?′ 替换成 ′0′&#x27;0&#x27;′0′ 或 ′1′&#x27;1&#x27;′1′ 所能得到的完美串的个数。
题解
一个串是完美串的必要条件：

被 ′1′&#x27;1&#x27;′1′ 划分出的 ′0′&#x27;0&#x27;′0′ 块的块长的极差 ≤1\le 1≤1。

证明十分显然，如果不满足这个条件，则一定有这样的串：
10…0⏟m100…00⏟m+2111\underbrace{0\dots0}_{m}1\underbrace{00\dots00}_{m+2}11
1m0…0​​1m+200…00​​11
左边长度为 mmm  ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/11/pkuwc2018-xi-ren-sha/" title="『PKUWC2018』猎人杀">     <img class="post_bg" src="https://z3.ax1x.com/2021/05/02/geCJL6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="『PKUWC2018』猎人杀"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/11/pkuwc2018-xi-ren-sha/" title="『PKUWC2018』猎人杀">『PKUWC2018』猎人杀</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-11T07:31:32.000Z" title="发表于 2021-04-11 15:31:32">2021-04-11</time></span></div><div class="content">题意
nnn 个猎人互相开枪，每个人有一个怨恨值 wiw_iwi​。当前活着的人的怨恨值之和为 kkk，则第 iii 个人被打中的概率为 wik\cfrac{w_i}{k}kwi​​。问第一个猎人最后被打中的概率。（∑wi≤105\sum w_i\le10^5∑wi​≤105）
##题解
如果按照题意直接计算，会发现每次分母都会发生改变。那么，我们假设，死人被打中的概率不变，但每次开枪会一直打到不是死人为止。感性理解一下发现题意不变。
计算一个人最后死的概率可以用容斥，假设集合 S⊆{2,3,…,n}S\subseteq \left\{ 2,3,\dots,n \right\}S⊆{2,3,…,n}，P(S)P(S)P(S) 表示在第一个人死后的人的集合，至少包含 SSS（其他人可能死了、可能没死）的概率。那么根据容斥得到：
ans=∑(−1)∣S∣P(S)(1)ans = \sum(-1)^{\left|S\right|}P(S)\tag{1}
ans=∑(−1)∣S∣P(S)(1)
设sum(S)=∑i∈Swi,tot=∑i=1nwi\displaystyle sum(S) = \ ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/11/snoi2017-yi-shi-de-da-an/" title="『SNOI2017』遗失的答案">     <img class="post_bg" src="https://z3.ax1x.com/2021/05/02/geChWj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="『SNOI2017』遗失的答案"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/11/snoi2017-yi-shi-de-da-an/" title="『SNOI2017』遗失的答案">『SNOI2017』遗失的答案</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-11T07:27:48.000Z" title="发表于 2021-04-11 15:27:48">2021-04-11</time></span></div><div class="content">題意
全集 U={1,2,…,N}U = \left\{1,2,\dots,N\right\}U={1,2,…,N} 中選出一個數集 SSS，使其最大共因數為 GGG，最小公倍數為 LLL。有 QQQ 次詢問，每次詢問給出一個 XXX，請你輸出滿足條件的且包含 XXX 的數集的個數。
題解
按照最大共因數和最小公倍數的套路，我們把 L,NL,NL,N 都除以 GGG，把問題轉化為了：數集的 gcd⁡=1,lcm=L\gcd = 1,\mathrm{lcm} = Lgcd=1,lcm=L。
將 LLL 質因數分解得到 L=∏piciL = \prod p_i^{c_i}L=∏pici​​。顯然，SSS 中所有元素必然是 LLL 的因子；而且對於任意一個質因數 pip_ipi​，合法的 SSS 中必然有一個數的指數是 000，也有一個指數恰好為 cic_ici​。
因此我們只在乎一個數的 pip_ipi​ 有沒有達到上界和下界，可以將一個轉化為一個161616位的狀態：前 888 位表示 pip_ipi​ 的指數是否為 000，後 888 位表示指數是否為 cic_ici​。
然後將 LL ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/11/2021-sheng-xuan-xun-lian-39-shu-shu-ti/" title="『2021省选训练39』数数题">     <img class="post_bg" src="https://z3.ax1x.com/2021/05/02/geChWj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="『2021省选训练39』数数题"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/11/2021-sheng-xuan-xun-lian-39-shu-shu-ti/" title="『2021省选训练39』数数题">『2021省选训练39』数数题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-11T07:26:21.000Z" title="发表于 2021-04-11 15:26:21">2021-04-11</time></span></div><div class="content">题意
有整数列 ⟨a1,a2,…,an⟩\left \langle a_1,a_2,\dots,a_n \right \rangle⟨a1​,a2​,…,an​⟩，对应实数列 ⟨x1,x2,…,xn⟩\left \langle x_1,x_2,\dots,x_n \right \rangle⟨x1​,x2​,…,xn​⟩，满足 xi∈[0,ai]x_i\in [0,a_i]xi​∈[0,ai​]，且在范围内随机并独立。
要求对 k=1,2,…,mk=1,2,\dots,mk=1,2,…,m，求出 (∑i=1nxi)k\displaystyle\left(\sum_{i=1}^{n}x_i\right)^k(i=1∑n​xi​)k 的期望。
题解
根据多项式定理：
(∑i=1nxi)k=∑p1+p2+⋯+pn=k(kp1,p2,…,pn)∏i=1nxipi\begin{aligned}
\left(\sum_{i=1}^{n}x_i\right)^k = \sum_{p_1+p_2+\dots+p_n=k}\binom{k}{p_1,p_2,\dots,p_n}\prod_{i=1}^{ ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/26/sheng-cheng-han-shu-xiao-jie/" title="生成函数小结">     <img class="post_bg" src="https://z3.ax1x.com/2021/05/02/geCGsx.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="生成函数小结"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/26/sheng-cheng-han-shu-xiao-jie/" title="生成函数小结">生成函数小结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-03-26T07:07:37.000Z" title="发表于 2021-03-26 15:07:37">2021-03-26</time></span></div><div class="content">普通生成函数
一些定理和封闭形式
麦克劳林展开
麦克劳林展开就是在 x=0x=0x=0 处做泰勒展开。
f(x)=11−ax\displaystyle f(x) = \frac{1}{1-ax}f(x)=1−ax1​ 是序列 ⟨a0,a1,a2,… ⟩\left\langle a^0,a^1,a^2,\dots \right \rangle⟨a0,a1,a2,…⟩ 的生成函数。
麦克劳林展开有 11−ax=1+ax+a2xx+…\displaystyle \frac{1}{1-ax} = 1+ax+a^2x^x+\dots1−ax1​=1+ax+a2xx+…
广义二项式定理
我们重新定义组合数运算：
(rk)=rk‾k!(r∈C,k∈N)\displaystyle\binom{r}{k}=\frac{r^{\underline k}}{k!}\quad(r\in \mathbf C,k\in \mathbf N)
(kr​)=k!rk​​(r∈C,k∈N)
注意 rrr 的范围是复数域。在这种情况下，对于 u∈Cu \in \mathbf Cu∈C，有
(1+x)u=∑j=0∞(uj) ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://blog.moonpie.cf/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">MoonPie Xia</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">29</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/05/01/hello-world/" title="Hello World"><img src="https://z3.ax1x.com/2021/05/02/geChWj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2021/05/01/hello-world/" title="Hello World">Hello World</a><time datetime="2021-05-01T09:57:03.968Z" title="发表于 2021-05-01 17:57:03">2021-05-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/28/sdoi2018jiu-shi-ti/" title="『SDOI2018』旧试题"><img src="https://z3.ax1x.com/2021/05/02/geCGsx.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="『SDOI2018』旧试题"/></a><div class="content"><a class="title" href="/2021/04/28/sdoi2018jiu-shi-ti/" title="『SDOI2018』旧试题">『SDOI2018』旧试题</a><time datetime="2021-04-28T08:51:41.000Z" title="发表于 2021-04-28 16:51:41">2021-04-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/28/mo-bi-wu-si-fan-yan-xi-ti/" title="莫比乌斯反演习题"><img src="https://z3.ax1x.com/2021/05/02/geCGsx.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="莫比乌斯反演习题"/></a><div class="content"><a class="title" href="/2021/04/28/mo-bi-wu-si-fan-yan-xi-ti/" title="莫比乌斯反演习题">莫比乌斯反演习题</a><time datetime="2021-04-28T00:56:55.000Z" title="发表于 2021-04-28 08:56:55">2021-04-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/22/xxi-open-cup-grand-prix-of-korea/" title="XXI Open Cup. Grand Prix of Korea"><img src="https://z3.ax1x.com/2021/05/02/geCGsx.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="XXI Open Cup. Grand Prix of Korea"/></a><div class="content"><a class="title" href="/2021/04/22/xxi-open-cup-grand-prix-of-korea/" title="XXI Open Cup. Grand Prix of Korea">XXI Open Cup. Grand Prix of Korea</a><time datetime="2021-04-22T11:17:06.000Z" title="发表于 2021-04-22 19:17:06">2021-04-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/22/xj-sheng-xuan-c31/" title="XJ省选C31"><img src="https://z3.ax1x.com/2021/05/02/geChWj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="XJ省选C31"/></a><div class="content"><a class="title" href="/2021/04/22/xj-sheng-xuan-c31/" title="XJ省选C31">XJ省选C31</a><time datetime="2021-04-22T11:05:21.000Z" title="发表于 2021-04-22 19:05:21">2021-04-22</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/xxx/"><span class="card-category-list-name">xxx</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Burnside%E5%BC%95%E7%90%86/" style="font-size: 1.1em; color: #999">Burnside引理</a> <a href="/tags/CodeForces/" style="font-size: 1.4em; color: #99a5b6">CodeForces</a> <a href="/tags/DP%E4%BC%98%E5%8C%96/" style="font-size: 1.2em; color: #999da3">DP优化</a> <a href="/tags/Gridea/" style="font-size: 1.1em; color: #999">Gridea</a> <a href="/tags/nowcoder/" style="font-size: 1.2em; color: #999da3">nowcoder</a> <a href="/tags/%E4%BA%8C%E9%A1%B9%E5%BC%8F%E5%8F%8D%E6%BC%94/" style="font-size: 1.1em; color: #999">二项式反演</a> <a href="/tags/%E5%81%9A%E9%A2%98%E8%AE%B0%E8%A6%81/" style="font-size: 1.2em; color: #999da3">做题记要</a> <a href="/tags/%E5%8D%95%E4%BD%8D%E6%A0%B9%E5%8F%8D%E6%BC%94/" style="font-size: 1.2em; color: #999da3">单位根反演</a> <a href="/tags/%E5%8E%9F%E6%A0%B9/" style="font-size: 1.1em; color: #999">原根</a> <a href="/tags/%E5%9B%BE%E8%AE%BA/" style="font-size: 1.1em; color: #999">图论</a> <a href="/tags/%E5%A4%9A%E9%A1%B9%E5%BC%8F/" style="font-size: 1.1em; color: #999">多项式</a> <a href="/tags/%E5%A5%97%E9%A2%98/" style="font-size: 1.2em; color: #999da3">套题</a> <a href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" style="font-size: 1.1em; color: #999">字符串</a> <a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size: 1.5em; color: #99a9bf">数学</a> <a href="/tags/%E6%96%AF%E7%89%B9%E6%9E%97%E6%95%B0/" style="font-size: 1.1em; color: #999">斯特林数</a> <a href="/tags/%E6%9C%9F%E6%9C%9B/" style="font-size: 1.1em; color: #999">期望</a> <a href="/tags/%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/" style="font-size: 1.1em; color: #999">树链剖分</a> <a href="/tags/%E6%A6%82%E7%8E%87%E6%9C%9F%E6%9C%9B/" style="font-size: 1.1em; color: #999">概率期望</a> <a href="/tags/%E7%94%9F%E6%88%90%E5%87%BD%E6%95%B0/" style="font-size: 1.3em; color: #99a1ac">生成函数</a> <a href="/tags/%E7%9C%81%E9%80%89%E6%A8%A1%E6%8B%9F%E8%B5%9B/" style="font-size: 1.1em; color: #999">省选模拟赛</a> <a href="/tags/%E7%9F%A9%E9%98%B5/" style="font-size: 1.1em; color: #999">矩阵</a> <a href="/tags/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82/" style="font-size: 1.1em; color: #999">矩阵快速幂</a> <a href="/tags/%E7%A7%AF%E5%88%86%E6%B1%82%E5%AF%BC/" style="font-size: 1.1em; color: #999">积分求导</a> <a href="/tags/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="font-size: 1.2em; color: #999da3">算法学习笔记</a> <a href="/tags/%E8%8E%AB%E6%AF%94%E4%B9%8C%E6%96%AF%E5%8F%8D%E6%BC%94/" style="font-size: 1.2em; color: #999da3">莫比乌斯反演</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95/" style="font-size: 1.1em; color: #999">计算几何</a> <a href="/tags/%E9%9D%9EOI/" style="font-size: 1.1em; color: #999">非OI</a> <a href="/tags/%E9%A2%98%E8%A7%A3/" style="font-size: 1.2em; color: #999da3">题解</a> <a href="/tags/%E9%AB%98%E7%BB%B4%E5%89%8D%E7%BC%80%E5%92%8C/" style="font-size: 1.1em; color: #999">高维前缀和</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/05/"><span class="card-archive-list-date">五月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">四月 2021</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/03/"><span class="card-archive-list-date">三月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">二月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/01/"><span class="card-archive-list-date">一月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/12/"><span class="card-archive-list-date">十二月 2020</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/01/"><span class="card-archive-list-date">一月 2019</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2018/12/"><span class="card-archive-list-date">十二月 2018</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">27</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-05-02T11:12:58.547Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By MoonPie Xia</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>